--- sqlite3-3.8.7.1.orig/src/select.c
+++ sqlite3-3.8.7.1/src/select.c
@@ -4451,6 +4451,7 @@ static void resetAccumulator(Parse *pPar
   struct AggInfo_func *pFunc;
   int nReg = pAggInfo->nFunc + pAggInfo->nColumn;
   if( nReg==0 ) return;
+  if( pParse->nErr ) return;
 #ifdef SQLITE_DEBUG
   /* Verify that all AggInfo registers are within the range specified by
   ** AggInfo.mnReg..AggInfo.mxReg */
